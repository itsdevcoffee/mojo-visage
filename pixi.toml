[workspace]
authors = ["itsdevcoffee <itstexmex@gmail.com>"]
channels = ["https://conda.modular.com/max-nightly", "conda-forge"]
name = "visage-ml"
platforms = ["linux-64"]
version = "0.1.0"

[tasks]
# =============================================================================
# Library Tasks (Production Code)
# =============================================================================

# Testing
test = "mojo -I src tests/test_linalg.mojo"
test-all = "mojo -I src tests/test_linalg.mojo"

# Examples
example-basic = "mojo -I src examples/basic_operations.mojo"
example-nn = "mojo -I src examples/neural_network_layer.mojo"
example-network = "mojo -I src examples/simple_neural_network.mojo"
train-xor = "mojo -I src examples/train_xor.mojo"

# Development
repl = "mojo"

# =============================================================================
# Audio Processing (mojo-audio package)
# =============================================================================

# Testing
audio-test-window = "mojo -I packages/mojo-audio/src packages/mojo-audio/tests/test_window.mojo"
audio-test-fft = "mojo -I packages/mojo-audio/src packages/mojo-audio/tests/test_fft.mojo"
audio-test-mel = "mojo -I packages/mojo-audio/src packages/mojo-audio/tests/test_mel.mojo"
audio-test = "mojo -I packages/mojo-audio/src packages/mojo-audio/tests/test_window.mojo && mojo -I packages/mojo-audio/src packages/mojo-audio/tests/test_fft.mojo && mojo -I packages/mojo-audio/src packages/mojo-audio/tests/test_mel.mojo"

# Examples
audio-demo-window = "mojo -I packages/mojo-audio/src packages/mojo-audio/examples/window_demo.mojo"
audio-demo-fft = "mojo -I packages/mojo-audio/src packages/mojo-audio/examples/fft_demo.mojo"
audio-demo-mel = "mojo -I packages/mojo-audio/src packages/mojo-audio/examples/mel_demo.mojo"
audio-demo = "mojo -I packages/mojo-audio/src packages/mojo-audio/examples/mel_demo.mojo"

# Benchmarks
audio-bench = "mojo -I packages/mojo-audio/src packages/mojo-audio/benchmarks/bench_mel_spectrogram.mojo"
audio-bench-python = "python packages/mojo-audio/benchmarks/compare_librosa.py"

# =============================================================================
# Learning Tasks (Educational Content in learn/ directory)
# =============================================================================

# Learning: Block 0 - Vector/Matrix Ops
learn-vector-add = "mojo learn/src/block0/01_vector_matrix_ops/01_vector_add.mojo"
learn-dot-product = "mojo learn/src/block0/01_vector_matrix_ops/02_dot_product.mojo"
learn-matrix-vector-multiply = "mojo learn/src/block0/01_vector_matrix_ops/03_matrix_vector_multiply.mojo"

# Learning: Tests
learn-test-all = "bash learn/scripts/common/run_tests.sh"
learn-test-vector-add = "mojo learn/tests/block0/01_vector_matrix_ops/test_01_vector_add.mojo"
learn-test-dot-product = "mojo learn/tests/block0/01_vector_matrix_ops/test_02_dot_product.mojo"

# Learning: Visualizations
learn-viz-dot-product = "python learn/scripts/block0/01_vector_matrix_ops/visualize_dot_product.py"

[dependencies]
max = ">=26.1.0.dev2025123105,<27"
mojo = ">=0.26.1.0.dev2025123105,<0.27"
matplotlib = ">=3.10.8,<4"
scipy = ">=1.16.3,<2"
librosa = ">=0.11.0,<0.12"
numba = ">=0.63.1,<0.64"
